# Support Copilot — AI‑ассистент для поддержки клиентов (RAG + Инструменты + DB‑аналитика)

https://github.com/user-attachments/assets/501e2634-e31e-4c93-ace4-75d471eb7211

Важно: это демонстрационный/референсный проект, а не готовый продукт. Публикуется по лицензии MIT — см. LICENSE.

Этот проект показывает, как ассистент может отвечать с ссылками на источники из базы знаний, вызывать бизнес‑инструменты (например, статус заказа) и предоставлять админ‑аналитику через запросы на естественном языке (NL→SQL) — всё в удобном веб‑интерфейсе и простом API.

Посмотрите демо‑видео, приложенное к репозиторию: в нём показан весь сценарий работы.

Ключевые результаты
- Быстрые ответы: мгновенные и уверенные ответы по FAQ с прозрачными цитатами.
- Меньше эскалаций: встроенные инструменты решают типовые L2‑вопросы (заказы, доставка, тарифы).
- Прикладная аналитика: менеджеры задают вопросы обычным языком и получают живые таблицы.

Что умеет
- Веб‑чат со стримингом: ответ появляется по частям для плавного UX.
- RAG с цитированием: ассистент вставляет ссылки на релевантные фрагменты документов; факты помечаются как [d0], [d1] и т. п., источники можно развернуть карточками.
- Вызов инструментов (tool‑calling):
  - Статус заказа по номеру (например, #A1009) из read‑only базы данных.
  - Вопросы по доставке/тарифам — из политики/FAQ документов (через RAG).
- Админ‑режим (под PIN):
  - Дашборд: суммарные показатели, заказы по статусам, топ‑товары, последние заказы.
  - Раздел «Заказы»: фильтры, быстрые изменения статуса, карточка деталей.
  - Аналитика NL→SQL: безопасные SELECT‑запросы, таблица результатов и используемый SQL.
- Полоса метрик: в реальном времени — вызовы инструментов, запросы к БД, RAG‑обращения и доверие к ответам.
- Страница Health: состояние окружения и готовность индекса.
- Подключение Telegram‑бота: легкая интеграция для поддержки в мессенджере.

Где применимо (примеры)
- Команды поддержки, которым важны достоверные ответы с цитатами.
- E‑commerce и сервисы со статусами заказов и прозрачными политиками.
- Операционные команды и менеджеры для быстрых инсайтов без SQL.

Как это работает (в общих чертах)
- База знаний: markdown/текст документы индексируются для семантического поиска.
- Оркестрация ИИ: ассистент сам решает, когда использовать RAG, проверить заказ или выполнить аналитический запрос.
- UI со стримингом: сначала показывает контекст (источники, метки, информацию об инструменте), затем — поток ответа.
- Безопасная аналитика: только чтение (SELECT), жесткие ограничения и автоматический LIMIT.

Сценарии для демонстрации
- Спросите про политику: «Какой срок возврата?» — и изучите источники в ответе.
- Спросите: «Где мой заказ #A1009?» — сработает инструмент статуса заказа.
- Включите админ‑режим (PIN: 123456) и задайте: «Продажи за 7 дней?» — увидите NL→SQL с таблицей.
- Откройте вкладки «Дашборд» и «Заказы» — данные в демо‑БД специально расширены.

Запуск демо (кратко)
- Скопируйте .env.example в .env и при необходимости корректируйте ключи/URL.
- Запустите docker-compose up -d
- Откройте Web UI (http://localhost:3000) и API (http://localhost:8000). PIN администратора: 123456.

Безопасность и приватность
- Личная информация (email, карты, телефоны) маскируется до обработки.
- Админ‑аналитика защищена PIN; SQL ограничен SELECT и проходит валидацию.

Что входит
- Веб‑чат с цитированием и панелью источников.
- Админ‑дашборд (метрики, заказы, топ‑товары, последние операции).
- Аналитика NL→SQL с отображением использованного SQL.
- Health‑эндпоинт и живые метрики.

Как использовать
- Проект открыт под MIT‑лицензией. Можно форкнуть, адаптировать и подключить ваши документы и системы. Демо‑видео иллюстрирует конечный UX; используйте его как отправную точку для собственной инсталляции.

Лицензия
- MIT License. Смотрите LICENSE. Поставляется «как есть» без гарантий; используйте на свой риск.
